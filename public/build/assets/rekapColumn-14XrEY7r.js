import{j as t,A as n}from"./app-DxJvvSjg.js";import{B as r,b as g}from"./button-CUw7T1aD.js";import{C as o}from"./checkbox-C9xubj4F.js";import c from"./Delete-Cd6X1Lhg.js";import m from"./Edit-Imi2bTXl.js";import{S as l}from"./sweetalert2.all-CTuA-BSn.js";import{A as s}from"./arrow-up-down-DwAKFJ1_.js";import{f as d,i as f}from"./id-VFStllgx.js";import"./index-Ca9g2TSY.js";import"./index-DIdVae-S.js";import"./check-BeABVpyH.js";import"./createLucideIcon-Y9SaQxlL.js";import"./index-RWHrkjJi.js";import"./index-C77x2df2.js";import"./index-PP3jhiTg.js";import"./index-DYRyC8Qm.js";import"./iconBase-DhpmAQ0p.js";import"./index-CihzhWaD.js";import"./x-CCvQdjLX.js";import"./input-CDkzSQij.js";import"./label-BHcXxmki.js";const p=({rekap:e})=>{const a=()=>{l.fire({title:"Konfirmasi Pengembalian",text:"Apakah Anda yakin ingin mengonfirmasi pengembalian tabung ini?",icon:"question",showCancelButton:!0,confirmButtonText:"Ya, konfirmasi",cancelButtonText:"Batal"}).then(i=>{i.isConfirmed&&n.put(route("staffgudang.rekap.konfirmasi-kembali",{id:e.id}),{},{preserveScroll:!0,onSuccess:()=>{l.fire({icon:"success",title:"Berhasil!",text:"Tabung berhasil dikonfirmasi kembali."}),n.reload({only:["rekaps"]})},onError:()=>{l.fire({icon:"error",title:"Gagal!",text:"Terjadi kesalahan saat mengonfirmasi."})}})})};return e.status==="kembali"?null:t.jsx(r,{variant:"secondary",size:"sm",onClick:a,className:"bg-blue-100 text-blue-700 hover:bg-blue-200",children:"Konfirmasi Kembali"})},M=[{id:"select",header:({table:e})=>t.jsx(o,{checked:e.getIsAllPageRowsSelected()||e.getIsSomePageRowsSelected()&&"indeterminate",onCheckedChange:a=>e.toggleAllPageRowsSelected(!!a),"aria-label":"Select all"}),cell:({row:e})=>t.jsx(o,{checked:e.getIsSelected(),onCheckedChange:a=>e.toggleSelected(!!a),"aria-label":"Select row"}),enableSorting:!1,enableHiding:!1},{accessorKey:"pelanggan",header:"Pelanggan",cell:({row:e})=>{var a,i;return((i=(a=e.original.pesanan)==null?void 0:a.pelanggan)==null?void 0:i.nama_pelanggan)??"-"}},{accessorKey:"nomor_tabung",header:"Nomor Tabung",cell:({row:e})=>e.original.nomor_tabung??"-"},{id:"tanggal_keluar",accessorFn:e=>g(e.tanggal_keluar.toString()),header:({column:e})=>t.jsxs(r,{variant:"default",onClick:()=>e.toggleSorting(e.getIsSorted()==="asc"),children:["Tgl. Keluar",t.jsx(s,{className:"ml-2 h-4 w-4"})]}),cell:({row:e})=>t.jsx("div",{className:"capitalize",children:e.getValue("tanggal_keluar")}),enableGlobalFilter:!0,filterFn:"includesString"},{accessorKey:"tanggal_kembali",header:({column:e})=>t.jsxs(r,{variant:"default",onClick:()=>e.toggleSorting(e.getIsSorted()==="asc"),children:["Tgl. Kembali ",t.jsx(s,{className:"ml-2 h-4 w-4"})]}),cell:({row:e})=>{const a=e.original.tanggal_kembali,i=a&&typeof a=="string"?d(new Date(a),"dd MMMM yyyy",{locale:f}):"-";return t.jsx("div",{children:i})}},{accessorKey:"status",header:"Status",cell:({row:e})=>{const a=e.original.status,i={kembali:"bg-green-500 text-white font-bold",dipinjam:"bg-yellow-100 text-yellow-700","Belum Dikonfirmasi":"bg-yellow-500 text-black",Dikonfirmasi:"bg-green-500 text-white font-bold"}[a]||"bg-yellow-500 text-black font-bold";return t.jsx("span",{className:`capitalize inline-flex items-center px-3 py-1 rounded-full text-xs font-medium ${i}`,children:a})}},{id:"actions",header:"Aksi",enableHiding:!1,cell:({row:e})=>{const a=e.original;return t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(m,{rekapedit:a}),t.jsx(c,{rekapdelete:a}),t.jsx(p,{rekap:a})]})}}];export{M as rekapColumns};
