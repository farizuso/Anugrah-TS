import{j as t,A as o}from"./app-LO3kLYBh.js";import{B as n,b as d}from"./button-BRA_72CJ.js";import{C as s}from"./checkbox-DKAuQQzW.js";import u from"./Delete-D2G0MIu2.js";import p from"./Edit-Crdgblmp.js";import{S as l}from"./sweetalert2.all-D1zlp91o.js";import{A as c}from"./arrow-up-down-BnscMBAd.js";import{f,i as b}from"./id-VFStllgx.js";import"./index-4rIlzQY9.js";import"./index-CJfUsAWL.js";import"./check-Bat95Yib.js";import"./createLucideIcon-CIulJmXM.js";import"./index-DGbhJvYb.js";import"./index-DaA34N1Y.js";import"./index-kDFXNXLW.js";import"./index-DPpjyfZ7.js";import"./iconBase-CDZmmWWJ.js";import"./index-DQwQjY1m.js";import"./x-DCAhHBGX.js";import"./input-BI2G8Bjq.js";import"./label-DZCuhqmO.js";const k=({rekap:e})=>{const a=()=>{l.fire({title:"Konfirmasi Pengembalian",text:"Apakah Anda yakin ingin mengonfirmasi pengembalian tabung ini?",icon:"question",showCancelButton:!0,confirmButtonText:"Ya, konfirmasi",cancelButtonText:"Batal"}).then(i=>{i.isConfirmed&&o.put(route("staffgudang.rekap.konfirmasi-kembali",{id:e.id}),{},{preserveScroll:!0,onSuccess:()=>{l.fire({icon:"success",title:"Berhasil!",text:"Tabung berhasil dikonfirmasi kembali."}),o.reload({only:["rekaps"]})},onError:()=>{l.fire({icon:"error",title:"Gagal!",text:"Terjadi kesalahan saat mengonfirmasi."})}})})};return e.status==="kembali"?null:t.jsx(n,{variant:"secondary",size:"sm",onClick:a,className:"bg-blue-100 text-blue-700 hover:bg-blue-200",children:"Konfirmasi Kembali"})},F=[{id:"select",header:({table:e})=>t.jsx(s,{checked:e.getIsAllPageRowsSelected()||e.getIsSomePageRowsSelected()&&"indeterminate",onCheckedChange:a=>e.toggleAllPageRowsSelected(!!a),"aria-label":"Select all"}),cell:({row:e})=>t.jsx(s,{checked:e.getIsSelected(),onCheckedChange:a=>e.toggleSelected(!!a),"aria-label":"Select row"}),enableSorting:!1,enableHiding:!1},{accessorKey:"pelanggan",header:"Pelanggan",cell:({row:e})=>{var a,i;return((i=(a=e.original.pesanan)==null?void 0:a.pelanggan)==null?void 0:i.nama_pelanggan)??"-"}},{accessorKey:"nomor_tabung",header:"Nomor Tabung",cell:({row:e})=>e.original.nomor_tabung??"-"},{accessorKey:"nama_produk",header:"Nama Produk",cell:({row:e})=>{var i;console.log("Row data:",e.original);const a=((i=e.original.pesanan)==null?void 0:i.details)??[];return a.length?t.jsx("ul",{className:"list-disc list-inside",children:a.map((g,m)=>{var r;return t.jsx("li",{children:((r=g.produk)==null?void 0:r.nama_produk)??"-"},m)})}):"-"}},{id:"tanggal_keluar",accessorFn:e=>d(e.tanggal_keluar.toString()),header:({column:e})=>t.jsxs(n,{variant:"default",onClick:()=>e.toggleSorting(e.getIsSorted()==="asc"),children:["Tgl. Keluar",t.jsx(c,{className:"ml-2 h-4 w-4"})]}),cell:({row:e})=>t.jsx("div",{className:"capitalize",children:e.getValue("tanggal_keluar")}),enableGlobalFilter:!0,filterFn:"includesString"},{accessorKey:"tanggal_kembali",header:({column:e})=>t.jsxs(n,{variant:"default",onClick:()=>e.toggleSorting(e.getIsSorted()==="asc"),children:["Tgl. Kembali ",t.jsx(c,{className:"ml-2 h-4 w-4"})]}),cell:({row:e})=>{const a=e.original.tanggal_kembali,i=a&&typeof a=="string"?f(new Date(a),"dd MMMM yyyy",{locale:b}):"-";return t.jsx("div",{children:i})}},{accessorKey:"status",header:"Status",cell:({row:e})=>{const a=e.original.status,i={kembali:"bg-green-500 text-white font-bold",dipinjam:"bg-yellow-100 text-yellow-700","Belum Dikonfirmasi":"bg-yellow-500 text-black",Dikonfirmasi:"bg-green-500 text-white font-bold"}[a]||"bg-yellow-500 text-black font-bold";return t.jsx("span",{className:`capitalize inline-flex items-center px-3 py-1 rounded-full text-xs font-medium ${i}`,children:a})}},{id:"actions",header:"Aksi",enableHiding:!1,cell:({row:e})=>{const a=e.original;return t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(p,{rekapedit:a}),t.jsx(u,{rekapdelete:a}),t.jsx(k,{rekap:a})]})}}];export{F as rekapColumns};
