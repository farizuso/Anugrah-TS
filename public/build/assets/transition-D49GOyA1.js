import{r as l,R as E}from"./app-OYz9xXHV.js";import{l as M,a as R,e as O,U as _,y as re,b as ne,u as le,d as $,o as C,C as ae,v as x,t as ee,s as pe,O as he}from"./open-closed-IwIC_0gl.js";function ge(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(e=>setTimeout(()=>{throw e}))}function k(){let t=[],e={addEventListener(r,n,o,d){return r.addEventListener(n,o,d),e.add(()=>r.removeEventListener(n,o,d))},requestAnimationFrame(...r){let n=requestAnimationFrame(...r);return e.add(()=>cancelAnimationFrame(n))},nextFrame(...r){return e.requestAnimationFrame(()=>e.requestAnimationFrame(...r))},setTimeout(...r){let n=setTimeout(...r);return e.add(()=>clearTimeout(n))},microTask(...r){let n={current:!0};return ge(()=>{n.current&&r[0]()}),e.add(()=>{n.current=!1})},style(r,n,o){let d=r.style.getPropertyValue(n);return Object.assign(r.style,{[n]:o}),this.add(()=>{Object.assign(r.style,{[n]:d})})},group(r){let n=k();return r(n),this.add(()=>n.dispose())},add(r){return t.push(r),()=>{let n=t.indexOf(r);if(n>=0)for(let o of t.splice(n,1))o()}},dispose(){for(let r of t.splice(0))r()}};return e}function se(){let[t]=l.useState(k);return l.useEffect(()=>()=>t.dispose(),[t]),t}function J(){let t=l.useRef(!1);return M(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function be(t=0){let[e,r]=l.useState(t),n=J(),o=l.useCallback(i=>{n.current&&r(a=>a|i)},[e,n]),d=l.useCallback(i=>!!(e&i),[e]),v=l.useCallback(i=>{n.current&&r(a=>a&~i)},[r,n]),f=l.useCallback(i=>{n.current&&r(a=>a^i)},[r]);return{flags:e,addFlag:o,hasFlag:d,removeFlag:v,toggleFlag:f}}function Ee(t){let e={called:!1};return(...r)=>{if(!e.called)return e.called=!0,t(...r)}}function K(t,...e){t&&e.length>0&&t.classList.add(...e)}function Q(t,...e){t&&e.length>0&&t.classList.remove(...e)}function Te(t,e){let r=k();if(!t)return r.dispose;let{transitionDuration:n,transitionDelay:o}=getComputedStyle(t),[d,v]=[n,o].map(i=>{let[a=0]=i.split(",").filter(Boolean).map(c=>c.includes("ms")?parseFloat(c):parseFloat(c)*1e3).sort((c,g)=>g-c);return a}),f=d+v;if(f!==0){r.group(a=>{a.setTimeout(()=>{e(),a.dispose()},f),a.addEventListener(t,"transitionrun",c=>{c.target===c.currentTarget&&a.dispose()})});let i=r.addEventListener(t,"transitionend",a=>{a.target===a.currentTarget&&(e(),i())})}else e();return r.add(()=>e()),r.dispose}function Fe(t,e,r,n){let o=r?"enter":"leave",d=k(),v=n!==void 0?Ee(n):()=>{};o==="enter"&&(t.removeAttribute("hidden"),t.style.display="");let f=R(o,{enter:()=>e.enter,leave:()=>e.leave}),i=R(o,{enter:()=>e.enterTo,leave:()=>e.leaveTo}),a=R(o,{enter:()=>e.enterFrom,leave:()=>e.leaveFrom});return Q(t,...e.base,...e.enter,...e.enterTo,...e.enterFrom,...e.leave,...e.leaveFrom,...e.leaveTo,...e.entered),K(t,...e.base,...f,...a),d.nextFrame(()=>{Q(t,...e.base,...f,...a),K(t,...e.base,...f,...i),Te(t,()=>(Q(t,...e.base,...f),K(t,...e.base,...e.entered),v()))}),d.dispose}function $e({immediate:t,container:e,direction:r,classes:n,onStart:o,onStop:d}){let v=J(),f=se(),i=O(r);M(()=>{t&&(i.current="enter")},[t]),M(()=>{let a=k();f.add(a.dispose);let c=e.current;if(c&&i.current!=="idle"&&v.current)return a.dispose(),o.current(i.current),a.add(Fe(c,n.current,i.current==="enter",()=>{a.dispose(),d.current(i.current)})),a.dispose},[r])}function F(t=""){return t.split(/\s+/).filter(e=>e.length>1)}let U=l.createContext(null);U.displayName="TransitionContext";var Re=(t=>(t.Visible="visible",t.Hidden="hidden",t))(Re||{});function Ce(){let t=l.useContext(U);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}function we(){let t=l.useContext(j);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}let j=l.createContext(null);j.displayName="NestingContext";function B(t){return"children"in t?B(t.children):t.current.filter(({el:e})=>e.current!==null).filter(({state:e})=>e==="visible").length>0}function ie(t,e){let r=O(t),n=l.useRef([]),o=J(),d=se(),v=C((p,u=x.Hidden)=>{let m=n.current.findIndex(({el:s})=>s===p);m!==-1&&(R(u,{[x.Unmount](){n.current.splice(m,1)},[x.Hidden](){n.current[m].state="hidden"}}),d.microTask(()=>{var s;!B(n)&&o.current&&((s=r.current)==null||s.call(r))}))}),f=C(p=>{let u=n.current.find(({el:m})=>m===p);return u?u.state!=="visible"&&(u.state="visible"):n.current.push({el:p,state:"visible"}),()=>v(p,x.Unmount)}),i=l.useRef([]),a=l.useRef(Promise.resolve()),c=l.useRef({enter:[],leave:[],idle:[]}),g=C((p,u,m)=>{i.current.splice(0),e&&(e.chains.current[u]=e.chains.current[u].filter(([s])=>s!==p)),e==null||e.chains.current[u].push([p,new Promise(s=>{i.current.push(s)})]),e==null||e.chains.current[u].push([p,new Promise(s=>{Promise.all(c.current[u].map(([y,S])=>S)).then(()=>s())})]),u==="enter"?a.current=a.current.then(()=>e==null?void 0:e.wait.current).then(()=>m(u)):m(u)}),b=C((p,u,m)=>{Promise.all(c.current[u].splice(0).map(([s,y])=>y)).then(()=>{var s;(s=i.current.shift())==null||s()}).then(()=>m(u))});return l.useMemo(()=>({children:n,register:f,unregister:v,onStart:g,onStop:b,wait:a,chains:c}),[f,v,n,g,b,c,a])}function Le(){}let xe=["beforeEnter","afterEnter","beforeLeave","afterLeave"];function te(t){var e;let r={};for(let n of xe)r[n]=(e=t[n])!=null?e:Le;return r}function ye(t){let e=l.useRef(te(t));return l.useEffect(()=>{e.current=te(t)},[t]),e}let Se="div",ue=he.RenderStrategy;function Pe(t,e){var r,n;let{beforeEnter:o,afterEnter:d,beforeLeave:v,afterLeave:f,enter:i,enterFrom:a,enterTo:c,entered:g,leave:b,leaveFrom:p,leaveTo:u,...m}=t,s=l.useRef(null),y=re(s,e),S=(r=m.unmount)==null||r?x.Unmount:x.Hidden,{show:h,appear:w,initial:W}=Ce(),[L,V]=l.useState(h?"visible":"hidden"),X=we(),{register:q,unregister:A}=X;l.useEffect(()=>q(s),[q,s]),l.useEffect(()=>{if(S===x.Hidden&&s.current){if(h&&L!=="visible"){V("visible");return}return R(L,{hidden:()=>A(s),visible:()=>q(s)})}},[L,s,q,A,h,S]);let I=O({base:F(m.className),enter:F(i),enterFrom:F(a),enterTo:F(c),entered:F(g),leave:F(b),leaveFrom:F(p),leaveTo:F(u)}),D=ye({beforeEnter:o,afterEnter:d,beforeLeave:v,afterLeave:f}),z=ne();l.useEffect(()=>{if(z&&L==="visible"&&s.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[s,L,z]);let ce=W&&!w,Z=w&&h&&W,de=!z||ce?"idle":h?"enter":"leave",N=be(0),fe=C(T=>R(T,{enter:()=>{N.addFlag($.Opening),D.current.beforeEnter()},leave:()=>{N.addFlag($.Closing),D.current.beforeLeave()},idle:()=>{}})),me=C(T=>R(T,{enter:()=>{N.removeFlag($.Opening),D.current.afterEnter()},leave:()=>{N.removeFlag($.Closing),D.current.afterLeave()},idle:()=>{}})),H=ie(()=>{V("hidden"),A(s)},X),G=l.useRef(!1);$e({immediate:Z,container:s,classes:I,direction:de,onStart:O(T=>{G.current=!0,H.onStart(s,T,fe)}),onStop:O(T=>{G.current=!1,H.onStop(s,T,me),T==="leave"&&!B(H)&&(V("hidden"),A(s))})});let P=m,ve={ref:y};return Z?P={...P,className:ee(m.className,...I.current.enter,...I.current.enterFrom)}:G.current&&(P.className=ee(m.className,(n=s.current)==null?void 0:n.className),P.className===""&&delete P.className),E.createElement(j.Provider,{value:H},E.createElement(pe,{value:R(L,{visible:$.Open,hidden:$.Closed})|N.flags},ae({ourProps:ve,theirProps:P,defaultTag:Se,features:ue,visible:L==="visible",name:"Transition.Child"})))}function Ne(t,e){let{show:r,appear:n=!1,unmount:o=!0,...d}=t,v=l.useRef(null),f=re(v,e);ne();let i=le();if(r===void 0&&i!==null&&(r=(i&$.Open)===$.Open),![!0,!1].includes(r))throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[a,c]=l.useState(r?"visible":"hidden"),g=ie(()=>{c("hidden")}),[b,p]=l.useState(!0),u=l.useRef([r]);M(()=>{b!==!1&&u.current[u.current.length-1]!==r&&(u.current.push(r),p(!1))},[u,r]);let m=l.useMemo(()=>({show:r,appear:n,initial:b}),[r,n,b]);l.useEffect(()=>{if(r)c("visible");else if(!B(g))c("hidden");else{let h=v.current;if(!h)return;let w=h.getBoundingClientRect();w.x===0&&w.y===0&&w.width===0&&w.height===0&&c("hidden")}},[r,g]);let s={unmount:o},y=C(()=>{var h;b&&p(!1),(h=t.beforeEnter)==null||h.call(t)}),S=C(()=>{var h;b&&p(!1),(h=t.beforeLeave)==null||h.call(t)});return E.createElement(j.Provider,{value:g},E.createElement(U.Provider,{value:m},ae({ourProps:{...s,as:l.Fragment,children:E.createElement(oe,{ref:f,...s,...d,beforeEnter:y,beforeLeave:S})},theirProps:{},defaultTag:l.Fragment,features:ue,visible:a==="visible",name:"Transition"})))}function Oe(t,e){let r=l.useContext(U)!==null,n=le()!==null;return E.createElement(E.Fragment,null,!r&&n?E.createElement(Y,{ref:e,...t}):E.createElement(oe,{ref:e,...t}))}let Y=_(Ne),oe=_(Pe),ke=_(Oe),De=Object.assign(Y,{Child:ke,Root:Y});export{J as f,k as o,se as p,De as q,ge as t};
