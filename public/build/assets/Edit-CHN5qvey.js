import{r as l,G as b,j as a}from"./app-DxJvvSjg.js";import{B as p}from"./button-CUw7T1aD.js";import{D as _,a as f,B as D,b as N,c as v,d as C,e as y,f as F}from"./index-CihzhWaD.js";import{I as n}from"./input-CDkzSQij.js";import{L as m}from"./label-BHcXxmki.js";import"./id-VFStllgx.js";import"./index-DYRyC8Qm.js";import"./index-Ca9g2TSY.js";import"./index-RWHrkjJi.js";import"./index-C77x2df2.js";import"./x-CCvQdjLX.js";import"./createLucideIcon-Y9SaQxlL.js";import"./iconBase-DhpmAQ0p.js";const z=({produkedit:r})=>{const[h,u]=l.useState(!1),{put:x,data:t,setData:o,processing:c,errors:s}=b({nama_produk:r.nama_produk,simbol:r.simbol,kategori:r.kategori,harga_jual:r.harga_jual});l.useEffect(()=>{o({nama_produk:r.nama_produk,simbol:r.simbol,kategori:r.kategori,harga_jual:r.harga_jual})},[r]);const j=e=>{e.preventDefault(),x(route("admin.produk.update",r.id),{onSuccess:()=>{u(!1)}})},[k,g]=l.useState(""),d=e=>{const i=typeof e=="string"?e.replace(/\D/g,""):e;return new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(Number(i))};return l.useEffect(()=>{g(d(t.harga_jual))},[t.harga_jual]),a.jsxs(_,{open:h,onOpenChange:u,children:[a.jsx(f,{asChild:!0,children:a.jsx(p,{size:"sm",variant:"outline_blue",onClick:()=>u(!0),children:a.jsx(D,{})})}),a.jsxs(N,{className:"sm:max-w-[600px]",children:[a.jsxs(v,{children:[a.jsx(C,{children:"Edit Produk"}),a.jsx(y,{children:"Ubah data produk di bawah ini."})]}),a.jsxs("form",{onSubmit:j,className:"grid gap-5 py-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(m,{htmlFor:"nama_produk",children:"Nama Produk"}),a.jsx(n,{id:"nama_produk",name:"nama_produk",value:t.nama_produk,onChange:e=>o("nama_produk",e.target.value),placeholder:"Masukkan nama produk"}),s.nama_produk&&a.jsx("p",{className:"text-sm text-red-500",children:s.nama_produk})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(m,{htmlFor:"simbol",children:"Simbol"}),a.jsx(n,{id:"simbol",name:"simbol",value:t.simbol,onChange:e=>o("simbol",e.target.value),placeholder:"Masukkan simbol produk"}),s.simbol&&a.jsx("p",{className:"text-sm text-red-500",children:s.simbol})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(m,{htmlFor:"kategori",children:"Kategori"}),a.jsx(n,{id:"kategori",name:"kategori",value:t.kategori,onChange:e=>o("kategori",e.target.value),placeholder:"Masukkan kategori produk"}),s.kategori&&a.jsx("p",{className:"text-sm text-red-500",children:s.kategori})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(m,{htmlFor:"harga_jual",children:"Harga Jual"}),a.jsx(n,{id:"harga_jual",name:"harga_jual",type:"text",value:k,onChange:e=>{const i=e.target.value.replace(/\D/g,"");o("harga_jual",parseInt(i)||0),g(d(i))},placeholder:"Contoh: Rp 120.000"}),s.harga_jual&&a.jsx("p",{className:"text-sm text-red-500",children:s.harga_jual})]}),a.jsx(F,{children:a.jsx(p,{type:"submit",disabled:c,children:c?"Menyimpan...":"Simpan Perubahan"})})]})]})]})};export{z as default};
