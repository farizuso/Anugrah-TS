import{r as o,j as e}from"./app-DMhN_Czv.js";import{u as v,f,b as R,g as S,a as M,c as N}from"./index-D_snxemH.js";import{B as m}from"./button-CaR9fyhR.js";import{D as F,a as y,b as T,d as D}from"./AdminLayout-oo5A7-Uh.js";import{I as z}from"./input-DFVxQCV2.js";import{T as P,a as k,b as g,c as I,d as V,e as C,r as E}from"./table-DlZDrH32.js";import{C as H}from"./chevron-down-CpHYFnz2.js";import{S as B}from"./search-DkWXBumW.js";const G=(n,i,r,d)=>{const a=E(n.getValue(i),r);return d({itemRank:a}),a.passed};function X({data:n,columns:i}){var p;const[r,d]=o.useState([]),[a,u]=o.useState([]),[c,b]=o.useState({}),[j,w]=o.useState({}),[x,h]=o.useState(""),s=v({data:n,columns:i,filterFns:{fuzzy:G},onSortingChange:d,onColumnFiltersChange:u,getCoreRowModel:N(),getPaginationRowModel:M(),getSortedRowModel:S(),getFilteredRowModel:R(),onColumnVisibilityChange:b,onRowSelectionChange:w,onGlobalFilterChange:h,globalFilterFn:"fuzzy",state:{sorting:r,columnFilters:a,columnVisibility:c,rowSelection:j,globalFilter:x}});return e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"flex items-center py-4",children:[e.jsx(A,{value:x??"",onChange:t=>h(String(t))}),e.jsxs(F,{children:[e.jsx(y,{asChild:!0,children:e.jsxs(m,{variant:"outline",className:"ml-auto",children:["Columns ",e.jsx(H,{className:"ml-2 h-4 w-4"})]})}),e.jsx(T,{align:"end",children:s.getAllColumns().filter(t=>t.getCanHide()).map(t=>e.jsx(D,{className:"capitalize",checked:t.getIsVisible(),onCheckedChange:l=>t.toggleVisibility(!!l),children:t.id},t.id))})]})]}),e.jsx("div",{className:"rounded-md border",children:e.jsxs(P,{children:[e.jsx(k,{children:s.getHeaderGroups().map(t=>e.jsx(g,{children:t.headers.map(l=>e.jsx(I,{children:l.isPlaceholder?null:f(l.column.columnDef.header,l.getContext())},l.id))},t.id))}),e.jsx(V,{children:(p=s.getRowModel().rows)!=null&&p.length?s.getRowModel().rows.map(t=>e.jsx(g,{"data-state":t.getIsSelected()&&"selected",children:t.getVisibleCells().map(l=>e.jsx(C,{children:f(l.column.columnDef.cell,l.getContext())},l.id))},t.id)):e.jsx(g,{children:e.jsx(C,{colSpan:i.length,className:"h-24 text-center",children:"No results."})})})]})}),e.jsxs("div",{className:"flex items-center justify-end space-x-2 py-4",children:[e.jsxs("div",{className:"flex-1 text-sm text-muted-foreground",children:[s.getFilteredSelectedRowModel().rows.length," of"," ",s.getFilteredRowModel().rows.length," row(s) selected."]}),e.jsxs("div",{className:"space-x-2",children:[e.jsx(m,{variant:"outline",size:"sm",onClick:()=>s.previousPage(),disabled:!s.getCanPreviousPage(),children:"Previous"}),e.jsx(m,{variant:"outline",size:"sm",onClick:()=>s.nextPage(),disabled:!s.getCanNextPage(),children:"Next"})]})]})]})}function A({value:n,onChange:i,debounce:r=0,...d}){const[a,u]=o.useState(n);return o.useEffect(()=>{u(n)},[n]),o.useEffect(()=>{const c=setTimeout(()=>{i(a)},r);return()=>clearTimeout(c)},[a]),e.jsxs("div",{className:"relative",children:[e.jsx(z,{...d,placeholder:"Cari..",value:a,onChange:c=>u(c.target.value),className:"max-w-sm pl-8 bg-background"}),e.jsx(B,{size:20,className:"absolute left-2 top-1/2 -translate-y-1/2 text-muted-foreground"})]})}export{X as D};
