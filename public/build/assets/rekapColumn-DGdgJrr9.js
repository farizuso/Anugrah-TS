import{j as t,A as o}from"./app-Cirgqvwk.js";import{B as r,b as g}from"./button-Jeld74cH.js";import{C as s}from"./checkbox-Ca0GcXv_.js";import m from"./Delete-9h2OF5eq.js";import d from"./Edit-f9HsK8_R.js";import{S as l}from"./sweetalert2.all-BvpHYlwL.js";import{A as c}from"./arrow-up-down-Bwr55Ek_.js";import{f as p,i as u}from"./id-VFStllgx.js";import"./index-Gf9dBiov.js";import"./index-BlV7DrDn.js";import"./check-D9dljjYT.js";import"./createLucideIcon-CLXaQpSR.js";import"./index-BHIYCrvG.js";import"./index-TRd3dJz4.js";import"./index-CiUMKB8U.js";import"./index-2cA8Idwe.js";import"./iconBase-yBNFJ-de.js";import"./index-EIDfDEfA.js";import"./x-2FJFxo7s.js";import"./input-D8txSVyp.js";import"./label-BK_0tK-J.js";const f=({rekap:e})=>{const a=()=>{l.fire({title:"Konfirmasi Pengembalian",text:"Apakah Anda yakin ingin mengonfirmasi pengembalian tabung ini?",icon:"question",showCancelButton:!0,confirmButtonText:"Ya, konfirmasi",cancelButtonText:"Batal"}).then(i=>{i.isConfirmed&&o.put(route("staffgudang.rekap.konfirmasi-kembali",{id:e.id}),{},{preserveScroll:!0,onSuccess:()=>{l.fire({icon:"success",title:"Berhasil!",text:"Tabung berhasil dikonfirmasi kembali."}),o.reload({only:["rekaps"]})},onError:()=>{l.fire({icon:"error",title:"Gagal!",text:"Terjadi kesalahan saat mengonfirmasi."})}})})};return e.status==="kembali"?null:t.jsx(r,{variant:"secondary",size:"sm",onClick:a,className:"bg-blue-100 text-blue-700 hover:bg-blue-200",children:"Konfirmasi Kembali"})},z=[{id:"select",header:({table:e})=>t.jsx(s,{checked:e.getIsAllPageRowsSelected()||e.getIsSomePageRowsSelected()&&"indeterminate",onCheckedChange:a=>e.toggleAllPageRowsSelected(!!a),"aria-label":"Select all"}),cell:({row:e})=>t.jsx(s,{checked:e.getIsSelected(),onCheckedChange:a=>e.toggleSelected(!!a),"aria-label":"Select row"}),enableSorting:!1,enableHiding:!1},{accessorKey:"pelanggan",header:"Pelanggan",cell:({row:e})=>{var a,i;return((i=(a=e.original.pesanan)==null?void 0:a.pelanggan)==null?void 0:i.nama_pelanggan)??"-"}},{accessorKey:"nomor_tabung",header:"Nomor Tabung",cell:({row:e})=>e.original.nomor_tabung??"-"},{accessorKey:"nama_produk",header:"nama produk",cell:({row:e})=>{var a,i,n;return((n=(i=(a=e.original.pesanan)==null?void 0:a.details[0])==null?void 0:i.produk)==null?void 0:n.nama_produk)??"-"}},{id:"tanggal_keluar",accessorFn:e=>g(e.tanggal_keluar.toString()),header:({column:e})=>t.jsxs(r,{variant:"default",onClick:()=>e.toggleSorting(e.getIsSorted()==="asc"),children:["Tgl. Keluar",t.jsx(c,{className:"ml-2 h-4 w-4"})]}),cell:({row:e})=>t.jsx("div",{className:"capitalize",children:e.getValue("tanggal_keluar")}),enableGlobalFilter:!0,filterFn:"includesString"},{accessorKey:"tanggal_kembali",header:({column:e})=>t.jsxs(r,{variant:"default",onClick:()=>e.toggleSorting(e.getIsSorted()==="asc"),children:["Tgl. Kembali ",t.jsx(c,{className:"ml-2 h-4 w-4"})]}),cell:({row:e})=>{const a=e.original.tanggal_kembali,i=a&&typeof a=="string"?p(new Date(a),"dd MMMM yyyy",{locale:u}):"-";return t.jsx("div",{children:i})}},{accessorKey:"status",header:"Status",cell:({row:e})=>{const a=e.original.status,i={kembali:"bg-green-500 text-white font-bold",dipinjam:"bg-yellow-100 text-yellow-700","Belum Dikonfirmasi":"bg-yellow-500 text-black",Dikonfirmasi:"bg-green-500 text-white font-bold"}[a]||"bg-yellow-500 text-black font-bold";return t.jsx("span",{className:`capitalize inline-flex items-center px-3 py-1 rounded-full text-xs font-medium ${i}`,children:a})}},{id:"actions",header:"Aksi",enableHiding:!1,cell:({row:e})=>{const a=e.original;return t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(d,{rekapedit:a}),t.jsx(m,{rekapdelete:a}),t.jsx(f,{rekap:a})]})}}];export{z as rekapColumns};
